// pipeline { 
//     agent any
//     stages { 
//         stage('Check git repo') { 
//             steps { 
//                 //cleanWs()
//                 checkout scm 
//             }
//         }
//         stage("Ansible") {
//             steps {
//                 sh '''
//                 #!/bin/bash
//                 cd ./ansible
//                 pwd 
//                 ansible-playbook playbook.yaml -i inv --extra-vars="default_image_name=nikita351/final_project:52"
//                 '''
//                 }
//             }
//         }    
// } 

pipeline { // задаем тон groovy, даем понять что здесь у нас шаги пайплайна
    agent any // если у нас есть какие то jenkins агенты специально для Ansible мы можем их указать здесь, у меня только один агент, поэтому я поставлю any
   
    stages { // здесь определяем какие шаги в пайплайне
        stage('Deploy') { // наш деплой
            steps { // определяем шаги уже самого стейджа
                sh 'ansible --version' // выводим версию Ansible, команда sh просто выполнит скрипт из консоли
            }
        }
    }
}